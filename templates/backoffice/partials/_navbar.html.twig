<style>
/* Fix pour le navbar rouge uniforme */
.navbar.default-layout {
    background: #c10609 !important;
    font-family: "Poppins", sans-serif;
    padding: 0 !important;
    margin: 0 !important;
    display: flex !important;
    border: none !important;
}

.navbar .navbar-brand-wrapper {
    background: #c10609 !important;
    width: 260px;
    height: 70px;
    margin: 0 !important;
    padding-top: 0 !important;
    padding-bottom: 0 !important;
}

.navbar .navbar-menu-wrapper {
    background: #c10609 !important;
    color: #ffffff;
    padding-left: 24px;
    padding-right: 24px;
    width: calc(100% - 260px);
    height: 70px;
    margin: 0 !important;
    padding-top: 0 !important;
    padding-bottom: 0 !important;
}

.navbar .navbar-menu-wrapper .navbar-nav .nav-item .nav-link {
    color: white !important;
    height: auto;
    line-height: 1;
}

.navbar .welcome-text {
    font-size: 18px !important;
    color: white !important;
    margin: 0;
}

.navbar .welcome-sub-text {
    font-size: 14px !important;
    color: rgba(255,255,255,0.8) !important;
    margin: 0;
}

.navbar .nav-link:hover {
    background-color: rgba(255,255,255,0.1);
    border-radius: 5px;
}

.search-form {
    width: 100%;
}

.search-form input {
    background-color: rgba(255,255,255,0.2) !important;
    border: none !important;
    color: white !important;
}

.search-form input::placeholder {
    color: rgba(255,255,255,0.7) !important;
}

.search-form i {
    color: white !important;
}

.dropdown-item:hover {
    background-color: #f8f9fa;
    color: #c10609 !important;
}

.icon-bell, .icon-mail, .icon-menu, .icon-search {
    color: white !important;
}

.navbar-toggler .icon-menu {
    color: white !important;
}

@media (max-width: 991px) {
    .navbar .navbar-brand-wrapper {
        width: 55px;
    }
    .navbar .navbar-menu-wrapper {
        width: calc(100% - 55px);
    }
}
</style>

<nav class="navbar default-layout col-lg-12 col-12 p-0 fixed-top d-flex align-items-top flex-row">
  <div class="text-center navbar-brand-wrapper d-flex align-items-center justify-content-start">
    <div class="me-3">
      <button class="navbar-toggler navbar-toggler align-self-center" type="button" data-bs-toggle="minimize">
        <span class="icon-menu"></span>
      </button>
    </div>
    <div>
      <a class="navbar-brand brand-logo" href="{{ path('app_admin_dashboard') }}">
        <div class="d-flex align-items-center gap-2">
          <div class="bg-white rounded-circle p-2" style="width: 50px; height: 50px; display: flex; align-items: center; justify-content: center;">
            <img src="{{ asset('images/logo-skillora.png') }}" alt="Skillora" style="width: 100%; height: 100%; object-fit: contain;">
          </div>
          <span style="color: white; font-size: 24px; font-weight: 700;">Skillora</span>
        </div>
      </a>
      <a class="navbar-brand brand-logo-mini" href="{{ path('app_admin_dashboard') }}">
        <div class="bg-white rounded-circle p-2" style="width: 40px; height: 40px; display: flex; align-items: center; justify-content: center;">
          <img src="{{ asset('images/logo-skillora.png') }}" alt="logo" style="width: 100%; height: 100%; object-fit: contain;">
        </div>
      </a>
    </div>
  </div>
  
  <div class="navbar-menu-wrapper d-flex align-items-top">
    <ul class="navbar-nav">
      <li class="nav-item fw-semibold d-none d-lg-block ms-0">
        <h1 class="welcome-text">Good Morning, <span class="fw-bold">{{ user.prenom }} {{ user.nom }}</span></h1>
      </li>
    </ul>
    
    <ul class="navbar-nav ms-auto">
      <!-- Dropdown des catÃ©gories -->
      <li class="nav-item dropdown d-none d-lg-block">
        <a class="nav-link dropdown-toggle" id="categoryDropdown" href="#" data-bs-toggle="dropdown" aria-expanded="false" style="color: white !important; background-color: rgba(255,255,255,0.2); padding: 8px 20px; border-radius: 8px;">
          <i class="icon-people me-2"></i> Users by Role
        </a>
        <div class="dropdown-menu dropdown-menu-end navbar-dropdown preview-list" aria-labelledby="categoryDropdown">
          <a class="dropdown-item py-3" href="#">
            <p class="mb-0 fw-medium">Select User Category</p>
          </a>
          <div class="dropdown-divider"></div>
          <a class="dropdown-item preview-item" href="{{ path('app_admin_users_by_role', {role: 'responsable_club'}) }}">
            <div class="preview-item-content flex-grow py-2">
              <p class="preview-subject ellipsis fw-medium text-dark">ðŸ‘¥ Club Managers</p>
              <p class="fw-light small-text mb-0" style="color: #666;">View all club managers</p>
            </div>
          </a>
          <a class="dropdown-item preview-item" href="{{ path('app_admin_users_by_role', {role: 'etudiant'}) }}">
            <div class="preview-item-content flex-grow py-2">
              <p class="preview-subject ellipsis fw-medium text-dark">ðŸŽ“ Students</p>
              <p class="fw-light small-text mb-0" style="color: #666;">View all students</p>
            </div>
          </a>
        </div>
      </li>

      <!-- Recherche 
      <li class="nav-item">
        <form class="search-form" action="#">
          <i class="icon-search"></i>
          <input type="search" class="form-control" placeholder="Search Here" title="Search here">
        </form>
      </li>-->

      <!-- Notifications 
      <li class="nav-item dropdown">
        <a class="nav-link count-indicator" id="notificationDropdown" href="#" data-bs-toggle="dropdown">
          <i class="icon-bell"></i>
          <span class="count"></span>
        </a>
        <div class="dropdown-menu dropdown-menu-end navbar-dropdown preview-list pb-0" aria-labelledby="notificationDropdown">
          <a class="dropdown-item py-3 border-bottom" href="#">
            <p class="mb-0 fw-medium float-start">You have 4 new notifications </p>
            <span class="badge badge-pill badge-danger float-end">View all</span>
          </a>
          <a class="dropdown-item preview-item py-3" href="#">
            <div class="preview-thumbnail">
              <i class="mdi mdi-alert m-auto text-danger"></i>
            </div>
            <div class="preview-item-content">
              <h6 class="preview-subject fw-normal text-dark mb-1">Application Error</h6>
              <p class="fw-light small-text mb-0"> Just now </p>
            </div>
          </a>
        </div>
      </li>
-->
      <!-- Messages 
      <li class="nav-item dropdown">
        <a class="nav-link count-indicator" id="countDropdown" href="#" data-bs-toggle="dropdown" aria-expanded="false">
          <i class="icon-mail icon-lg"></i>
        </a>
        <div class="dropdown-menu dropdown-menu-end navbar-dropdown preview-list pb-0" aria-labelledby="countDropdown">
          <a class="dropdown-item py-3" href="#">
            <p class="mb-0 fw-medium float-start">You have 7 unread mails </p>
            <span class="badge badge-pill badge-danger float-end">View all</span>
          </a>
        </div>
      </li>
-->
      <!-- Profil Admin avec dropdown -->
      <li class="nav-item dropdown d-none d-lg-block user-dropdown">
        <a class="nav-link count-indicator" id="UserDropdown" href="#" data-bs-toggle="dropdown" aria-expanded="false">
          {% if user.photo %}
            <img class="img-xs rounded-circle" src="{{ asset('uploads/photos/' ~ user.photo) }}" alt="Profile image" style="width: 45px; height: 45px; object-fit: cover; border: 3px solid white;">
          {% else %}
            <div class="rounded-circle bg-white d-flex align-items-center justify-content-center" style="width: 45px; height: 45px; font-weight: 700; color: #c10609; border: 3px solid white;">
              {{ user.prenom|slice(0, 1)|upper }}{{ user.nom|slice(0, 1)|upper }}
            </div>
          {% endif %}
        </a>
        <div class="dropdown-menu dropdown-menu-end navbar-dropdown" aria-labelledby="UserDropdown" style="min-width: 240px; border-radius: 12px;">
          <div class="dropdown-header text-center" style="padding: 20px 15px; border-bottom: 2px solid #f5f5f5;">
            {% if user.photo %}
              <img class="img-md rounded-circle" src="{{ asset('uploads/photos/' ~ user.photo) }}" alt="Profile image" style="width: 70px; height: 70px; object-fit: cover; margin-bottom: 12px;">
            {% else %}
              <div class="rounded-circle mx-auto d-flex align-items-center justify-content-center" style="width: 70px; height: 70px; background: linear-gradient(135deg, #c10609 0%, #8b0507 100%); color: white; font-size: 28px; font-weight: 700; margin-bottom: 12px;">
                {{ user.prenom|slice(0, 1)|upper }}{{ user.nom|slice(0, 1)|upper }}
              </div>
            {% endif %}
            <p class="mb-1 mt-3 fw-semibold">{{ user.prenom }} {{ user.nom }}</p>
            <p class="fw-light text-muted mb-0">{{ user.email }}</p>
          </div>
          <a class="dropdown-item" href="{{ path('app_user_show', {id: user.id}) }}" style="padding: 10px 12px;">
            <i class="dropdown-item-icon mdi mdi-account-outline me-2" style="color: #c10609;"></i> My Profile
          </a>
          <a class="dropdown-item" href="{{ path('app_user_edit', {id: user.id}) }}" style="padding: 10px 12px;">
            <i class="dropdown-item-icon mdi mdi-pencil-outline me-2" style="color: #c10609;"></i> Edit Profile
          </a>
          <a class="dropdown-item" href="{{ path('app_logout') }}" style="padding: 10px 12px; border-top: 1px solid #f5f5f5; margin-top: 5px; color: #c10609;">
            <i class="dropdown-item-icon mdi mdi-power me-2" style="color: #c10609;"></i> Log Out
          </a>
        </div>
      </li>
    </ul>
    <button class="navbar-toggler navbar-toggler-right d-lg-none align-self-center" type="button" data-bs-toggle="offcanvas">
      <span class="mdi mdi-menu"></span>
    </button>
  </div>
</nav>